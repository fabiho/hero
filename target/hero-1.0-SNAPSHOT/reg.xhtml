<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<f:view>
    <h:head>
        <link rel="shortcut icon" type="image/x-icon" href="img/co2.ico" />
        <link rel="stylesheet" href="css/styles.css"/>
        <title>LikeHeroToZero</title>
    </h:head>
    <h:body class="body">
        <div class="navbar">
            <h:form styleClass="titel">
                <h:graphicImage value="img/co2_white.png"/>
                <h:link styleClass="titel" outcome="infografiken" value="Like Hero to Zero"/>
            </h:form>
            <div class="navigationStructure">
                <div class="icon-text">
                    <i class="pi pi-chart-line" style="font-size: 1.5rem"></i>
                    <h:form>
                        <h:link styleClass="navigation" outcome="infografiken" value="Infografiken"/>
                    </h:form>
                </div>
                <div class="icon-text">
                    <i class="pi pi-database" style="font-size: 1.5rem"></i>
                    <h:form>
                        <h:link styleClass="navigation" outcome="data" value="Forschungsdaten"/>
                    </h:form>
                </div>
                <div class="icon-text">
                    <i class="pi pi-book" style="font-size: 1.5rem"></i>
                    <h:form>
                        <h:link styleClass="navigation" outcome="report" value="Reporte"/>
                    </h:form>
                </div>
            </div>
            <div class="icon-text">
                <i class="pi pi-user" style="font-size: 1.5rem"></i>
                <h:form>
                    <h:link styleClass="navigationSelected" outcome="login" value="Login"/>
                </h:form>
            </div>
        </div>
        <div class="frameLogin">
            <div class="frameReg">
                <p:growl id="regInfo" showDetail="true" life="10000"/>
                <h1 style="color: white">Registrierung</h1>
                <h:form>
                    <h:panelGrid columns="3" style="color: #FFFFFF;font-size: 22px;width: fit-content">
                        <h:outputLabel value="Anrede: " for="anrede"/>
                        <h:selectOneMenu id="anrede" required="true" requiredMessage="Pflichtfeld" value="#{user.anrede}">
                            <f:selectItem itemLabel="Wähle eine Anrede" itemValue=""/>
                            <f:selectItem itemLabel="Herr" itemValue="Herr"/>
                            <f:selectItem itemLabel="Frau" itemValue="Frau"/>
                            <f:selectItem itemLabel="Divers" itemValue="Divers"/>
                        </h:selectOneMenu>
                        <p:message for="anrede"/>

                        <h:outputLabel value="Vorname: " for="vorname"/>
                        <h:inputText id="vorname" value="#{user.vorname}" required="true" requiredMessage="Pflichtfeld"/>
                        <p:message for="vorname"/>

                        <h:outputLabel value="Nachname: " for="name"/>
                        <h:inputText id="name" value="#{user.nachname}" required="true" requiredMessage="Pflichtfeld"/>
                        <p:message for="name"/>

                        <h:outputLabel value="Firma / Institut: " for="firma"/>
                        <h:inputText id="firma" value="#{user.firma}"/>
                        <p:message for="firma"/>

                        <h:outputLabel value="Position: " for="position"/>
                        <h:inputText id="position" value="#{user.position}"/>
                        <p:message for="position"/>

                        <h:outputLabel value="E-Mail Adresse: " for="mail"/>
                        <h:inputText id="mail" value="#{user.mail}" required="true" requiredMessage="Pflichtfeld" validatorMessage="Bitte gib eine gültige Mailadresse ein" >
                            <f:validateRegex pattern="[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}"/>
                        </h:inputText>
                        <p:message for="mail"/>

                        <h:outputLabel value="Passwort: " for="passwort"/>
                        <h:inputSecret id="passwort" value="#{user.passwort}" required="true" requiredMessage="Pflichtfeld" validatorMessage="Das Passwort muss mindest 8 Zeichen lang sein">
                                <f:validateLength minimum="8"/>
                        </h:inputSecret>
                        <p:message for="passwort"/>

                    </h:panelGrid>
                    <br/>
                    <div style="display: flex; justify-content: space-between">
                        <h:link styleClass="button" style="background-color: white; color: darksalmon" value="Zurück" outcome="login"/>
                        <h:commandLink styleClass="button" value="Account erstellen" action="#{userDAO.createUser(user)}"/>
                    </div>
                </h:form>
            </div>
        </div>
    </h:body>
</f:view>
</html>